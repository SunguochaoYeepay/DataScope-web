# Changelog

## [Unreleased]

### Fixed
- 修复了 API 请求路径中重复出现 /v1 的问题
- 修复了 Modal 组件使用已弃用的 `visible` 属性的问题，更新为使用 `open` 属性
- 修复了 Table 组件使用已弃用的 `column.slots` 的问题，更新为使用 `v-slot:headerCell` 和 `v-slot:bodyCell`
- 修复了 ProTable 组件的类型定义和插槽实现
- 优化了全局样式和布局结构
- 修复了数据源管理页面的布局问题，采用 Ant Design Vue 标准列表模板重构

### Changed
- 更新了 Ant Design Vue 组件的使用方式，采用最新的 API
- 优化了数据源管理、查询历史等页面的用户界面
- 改进了错误处理和状态管理
- 修复了请求工具类中的状态码处理，使其完全符合API规范
  - POST 请求成功返回 201
  - DELETE 请求成功返回 204
  - PUT/PATCH 请求成功返回 200
- 统一了查询参数中的排序方向为标准的 'asc'/'desc'
- 完善了错误响应消息
- 增强了安全性
  - 添加了 XSS 防护
  - 添加了 SQL 注入防护
- 改进了代码文档
  - 添加了详细的 JSDoc 注释
  - 完善了接口说明
  - 添加了复杂逻辑的流程说明
- 规范化API请求工具类
  - 修复了重复的API前缀问题
  - 统一了查询参数格式
  - 规范化了响应格式处理
  - 完善了错误处理
- 统一了查询参数
  - 使用 `current` 替代 `pageNum`
  - 使用 `size` 替代 `pageSize`
  - 规范化了排序参数 `order: 'asc' | 'desc'`
- 优化了数据源管理页面的用户体验
  - 改进了搜索区域布局
  - 优化了表格展示效果
  - 增强了操作区域的交互体验
  - 添加了更多的视觉反馈

### Added
- 新增了主题配置支持
- 添加了更多的类型注解和代码注释
- 创建基础布局组件 `BasicLayout.vue`
  - 实现响应式侧边栏
  - 添加导航菜单
  - 集成用户头像和下拉菜单
  - 添加页面切换动画
- 配置路由系统
  - 实现路由守卫
  - 添加404页面
  - 配置页面标题
- 实现数据源管理页面 `DatasourceList.vue`
  - 支持数据源的增删改查
  - 添加连接测试功能
  - 使用ProTable展示数据
- 实现SQL编辑器页面 `SqlEditorView.vue`
  - 集成SQL编辑器组件
  - 支持数据源选择
  - 显示数据库表结构
  - 展示查询结果
- 实现查询历史页面 `QueryHistoryList.vue`
  - 支持按数据源和时间范围筛选
  - 展示查询统计信息
  - 显示Top 5慢查询
  - 查看查询详情
- 实现慢查询分析页面 `SlowQueriesList.vue`
  - 支持设置执行时间阈值
  - 展示执行计划
  - 提供优化建议
  - 显示统计信息和趋势
- 新增了安全工具函数 `security.ts`
  - 添加了 HTML 转义函数
  - 添加了 SQL 转义函数
  - 添加了递归参数处理函数
- 新增了 `normalizeUrl` 工具函数，用于处理API路由
- 新增了统一的查询参数接口 `QueryParams`
- 新增了标准的响应格式接口 `ApiResponse`

## [0.1.0] - 2024-03-XX
- 初始版本发布