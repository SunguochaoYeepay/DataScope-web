# Modern Frontend Changelog

## [Unreleased]

### Added
- 添加了数据源可视化配置功能
- 增加了查询结果导出功能
- 新增黑暗模式支持
- 添加未实现API接口的错误处理和用户提示
- 为查询、可视化和仪表盘模块添加模拟API接口，预防错误
- 更新README文档，添加接口实现状态表格
- 新增现代SQL查询编辑器页面，支持格式化、全屏编辑等功能
- 新增查询结果表格组件，支持CSV和Excel导出功能
- 为SQL编辑器添加智能mock数据功能，根据SQL语句关键词自动生成相应的模拟数据

### Changed
- 统一所有API接口路径格式为 `/api/v1/xxx`，解决了与后端API路径不匹配的问题
- 优化了数据源编辑表单的验证逻辑
- 改进了图表渲染性能
- HTTP请求模块增强，自动处理重复API前缀问题
- 改进API错误处理，添加详细日志和用户友好提示

### Fixed
- 修复了数据可视化组件在某些数据格式下的显示问题
- 解决了查询结果分页显示不正确的缺陷
- 修复了数据源连接测试功能不可用的问题
- 修复了查询API路径配置错误问题，但后端接口似乎尚未实现 `/api/v1/queries` 端点
- 为未实现的后端API添加错误处理，避免前端崩溃
- 优化模块加载失败时的用户体验
- 修复了表元数据API中的循环引用问题，解决了因StackOverflowError导致的JSON序列化失败
- 修复了元数据管理页面表格数据加载问题，增强了API路径处理逻辑
- 优化了元数据为空时的用户体验，提供了直观的刷新和重新加载选项

## [0.2.1] - 2023-11-10

### API路径标准化

- 统一所有API路径为`/v1/xxx`格式
- 移除API模块中的重复`/api`前缀
- 优化HTTP请求模块，自动处理路径前缀，防止出现`/api/api/v1`等重复前缀问题
- 更新数据源、元数据、查询、可视化和仪表盘API的路径格式
- 统一API错误处理方式，使用Promise.reject返回标准错误格式

### 文档更新

- 更新README.md，明确API路径规范和最佳实践
- 添加API实现状态说明，标明哪些API已实现，哪些尚未实现

### UI优化

- 为未实现的API模块(查询管理、可视化管理、仪表盘管理)添加明确的警告提示
- 优化数据源管理页面的数据加载和错误处理逻辑
- 完善各模块的响应式布局和用户体验

## [0.2.0] - 2023-11-03

### 新增功能

- 新增数据源管理功能，支持添加、编辑、删除数据源
- 新增元数据管理功能，支持查看数据源表结构
- 增加数据源连接测试功能
- 用户界面优化，采用新版布局和主题

### 修复

- 修复了数据源测试连接时的错误处理问题
- 修复了元数据刷新后缓存未更新的问题

## [0.1.0] - 2025-02-28

### 新功能

- 实现了基础数据源连接管理功能
- 添加了元数据浏览功能
- 实现了基本的数据源测试连接功能

### 变更

- 更新了整体UI布局和样式
- 优化模块加载失败时的用户体验

### Added
- 新增元数据管理相关API，包括获取表列表、表元数据和刷新元数据等功能
- 新增数据预览API，支持预览表数据
- 更新了数据源管理、查询和可视化相关API，适配新的API路径和字段名称
- 数据源页面组件升级，支持新的API结构
- 查询页面组件升级，适配新的API字段
- 可视化页面组件升级，支持新的图表类型和配置
- 新增登录页面，支持账号密码登录和快速登录功能
- 添加HTTP Basic认证支持，简化开发环境下的API调用
- 添加环境配置文件，支持不同环境的API配置
- 配置Vite开发服务器代理，解决跨域问题

### Changed
- 更新数据源API接口，修改字段名称和API路径
- 更新查询API接口，支持新的查询模板和参数
- 更新可视化API接口，支持更多图表类型和配置选项
- 更新路由配置，添加登录路由和认证拦截器
- 添加主布局组件，包含侧边栏和顶部导航
- 优化API请求配置，通过环境变量控制API基础路径

### Fixed
- 修复数据源表单字段与API不一致的问题
- 修复查询组件中的字段名称不匹配问题
- 修复可视化组件中的类型错误
- 修复API请求地址不正确的问题，现在使用正确的后端地址

### 数据源管理功能增强
- 改进数据源连接测试功能，支持测试未保存的数据源
- 增加详细的调试日志，便于排查连接问题
- 改进错误处理，显示更友好的错误信息
- 新增数据源API接口支持直接测试连接配置
- 修复数据源连接测试API路径问题，根据后端API需求添加名称字段

### 前端开发改进
- 优化HTTP请求模块，增强错误处理和日志记录
- 完善proxy配置，解决开发环境跨域问题
- 规范API响应处理，统一成功和错误信息格式
- 修复代理配置，将API请求正确转发到8082端口
- 解决API请求路径问题，保留/api前缀，确保请求正确到达后端

## 2023-05-15

### 新增
- 可视化模块添加API未实现的警告提示，提醒用户该功能暂不可用
- 查询模块添加API未实现的警告提示，提醒用户该功能暂不可用
- 仪表盘模块添加API未实现的警告提示，提醒用户该功能暂不可用
- 仪表盘页面添加基本布局和空状态展示
- 查询和可视化API增加异常处理，提供友好错误信息

### 问题进展
- **数据源接口**：已完全对接并正常工作
- **元数据接口**：已完全对接并正常工作
- **查询接口**：后端尚未实现，已添加警告提示和错误处理
- **可视化接口**：后端尚未实现，已添加警告提示和错误处理
- **仪表盘接口**：后端尚未实现，已添加警告提示和错误处理

### Added
- 实现了基础的查询管理界面
- 添加了查询历史记录功能
- 增加了用户偏好设置

### Changed
- 重构了数据源连接管理模块
- 优化了整体界面布局和响应式设计

### Fixed
- 修复了登录页面在移动设备上的显示问题
- 解决了查询执行超时处理不当的问题
- 修复了数据源列表刷新后选中状态丢失的bug

## [0.1.0] - 2025-02-28

### Added
- 初始版本发布
- 基础数据源管理功能
- 简单的SQL查询执行界面
- 用户登录和权限控制

### Added
- 新增元数据管理相关API，包括获取表列表、表元数据和刷新元数据等功能
- 新增数据预览API，支持预览表数据
- 更新了数据源管理、查询和可视化相关API，适配新的API路径和字段名称
- 数据源页面组件升级，支持新的API结构
- 查询页面组件升级，适配新的API字段
- 可视化页面组件升级，支持新的图表类型和配置
- 新增登录页面，支持账号密码登录和快速登录功能
- 添加HTTP Basic认证支持，简化开发环境下的API调用
- 添加环境配置文件，支持不同环境的API配置
- 配置Vite开发服务器代理，解决跨域问题

### Changed
- 更新数据源API接口，修改字段名称和API路径
- 更新查询API接口，支持新的查询模板和参数
- 更新可视化API接口，支持更多图表类型和配置选项
- 更新路由配置，添加登录路由和认证拦截器
- 添加主布局组件，包含侧边栏和顶部导航
- 优化API请求配置，通过环境变量控制API基础路径

### Fixed
- 修复数据源表单字段与API不一致的问题
- 修复查询组件中的字段名称不匹配问题
- 修复可视化组件中的类型错误
- 修复API请求地址不正确的问题，现在使用正确的后端地址

### 数据源管理功能增强
- 改进数据源连接测试功能，支持测试未保存的数据源
- 增加详细的调试日志，便于排查连接问题
- 改进错误处理，显示更友好的错误信息
- 新增数据源API接口支持直接测试连接配置
- 修复数据源连接测试API路径问题，根据后端API需求添加名称字段

### 前端开发改进
- 优化HTTP请求模块，增强错误处理和日志记录
- 完善proxy配置，解决开发环境跨域问题
- 规范API响应处理，统一成功和错误信息格式
- 修复代理配置，将API请求正确转发到8082端口
- 解决API请求路径问题，保留/api前缀，确保请求正确到达后端 